(()=>{"use strict";var e={834:(e,t,o)=>{o.r(t),o.d(t,{Project:()=>a});const a=e=>{let t=e.name||"",o=e.id||"",a=e.table||{};const s=()=>{let e=Math.floor(Math.random()*Math.floor(255));for(;t=e,a.hasOwnProperty(t);)e=Math.floor(Math.random()*Math.floor(255));var t;return e};return{setName:e=>{t=e},setID:e=>{o=e},getName:()=>t,getID:()=>o,addTask:e=>{const t=s();e.setID(t),(e=>{a[e.getID()]=e})(e)},removeTask:e=>{(e=>{a[e]&&delete a[e]})(e)},createID:s,getTasks:()=>a,updateDetails:e=>{if(e.id){const t=a[e.id];t.setDetails(e.details),t.setDate(e.date)}},getTasksforStorage:()=>{let e={};for(let t in a)e[`task-${a[t].getID()}`]={};for(let t in a){const o=a[t].getID(),s=a[t].getTitle(),n=a[t].getDate(),d=a[t].getDetails();e[`task-${o}`]={id:o,title:s,date:n,details:d}}return e}}}}},t={};function o(a){if(t[a])return t[a].exports;var s=t[a]={exports:{}};return e[a](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=o(834);const t=e=>{let t=e.title||"",o=e.details||"",a=e.id||0,s=e.date||"";return{setTitle:e=>{t=e},setDetails:e=>{o=e},setID:e=>{a=e},setDate:e=>{s=e},getTitle:()=>t,getDetails:()=>o,getID:()=>a,getDate:()=>s}},a=(()=>{let e=[];return{addProject:t=>{e.push(t)},removeProject:t=>{e=e.filter((e=>e!=t))},getProjects:()=>e}})(),s=e=>{let t=[];return{addHandler:e=>{t.push(e)},removeHandler:e=>{const o=t.indexOf(e);t.splice(o,1)},fire:e=>{t.forEach((t=>{t(e)}))},myName:e||""}},n=(()=>{let e=[];const t=t=>e.filter((e=>e.myName==t))[0];return{publish:(o,a)=>{let n=t(o);n||(n=s(o),console.log(o),e.push(n)),n.fire(a)},subscribe:(o,a)=>{let n=t(o);n||(n=s(o),e.push(n)),n.addHandler(a)}}})(),{Project:d}=o(834),r=e=>{const t=e.getTasksforStorage();return JSON.stringify(t)},c=e=>{const t={name:e.getName(),id:e.getID()};return JSON.stringify(t)},i=()=>{let e=localStorage.getItem("project");return e=JSON.parse(e),e};let l=(()=>{const e=(()=>{const e=i();return e?JSON.parse(e.tasks):""})()||"",t=(()=>{const e=i();return e?JSON.parse(e.projectInfo):""})()||"";return e&&t?Object.assign({},{tasks:e},t):""})();const u=(0,e.Project)({name:"name",id:0});l&&((e,o)=>{const a=o.tasks;e.setName(o.name),e.setID(o.id);for(let o in a){const s=a[o].id||0,n=a[o].title||"default",d=a[o].date||"",r=a[o].details||"",c=t({id:s,title:n,date:d,details:r});e.addTask(c)}})(u,l),a.addProject(u);const m=u.createID(),p=(0,e.Project)({name:"default",id:m}),b={id:p.getID(),name:p.getName()};(()=>{const e=e=>{const o=document.querySelector("#ul-sidebar-projects"),a="material-icons icon",s=document.createElement("li"),n=document.createElement("div"),d=document.createElement("input"),r=document.createElement("i"),c=document.createElement("i");s.className="sidebar-project-list_item  solid-top-border",n.className="flex-content project-edit",d.className="center-list-item",r.className=a,c.className=a,s.setAttribute("id",`project-${e.id}`),d.setAttribute("id",`p-input-${e.id}`),d.setAttribute("maxlength","16"),r.setAttribute("id",`p-check-${e.id}`),c.setAttribute("id",`p-create-${e.id}`),d.value=e.name,d.disabled=!0,r.textContent="check_circle_outline",c.textContent="create",n.append(r,d,c),s.append(n),o.append(s),t.initEvents(e.id)};n.subscribe("addProjectToView",(t=>{e(t)}));const t=(()=>{(()=>{const e=document.querySelector("#new-project-input"),t=document.querySelector("#new-project-button");e.addEventListener("keyup",(e=>{t.disabled=!e.target.value})),t.addEventListener("click",(t=>{if(!t.target.disabled){const t=e.value;console.log(t),n.publish("createNewProject",{name:t})}}))})();return{initEvents:e=>{console.log("initEvents",e),(e=>{document.querySelector(`#p-input-${e}`).addEventListener("keydown",(t=>((e,t)=>{const o=document.querySelector(`#p-create-${t}`);if(o.disabled=!e.target.value,!o.disabled){const o=e.target.value;n.publish("updateProjectName",{name:o,id:t})}})(t,e)))})(e),(e=>{document.querySelector(`#p-create-${e}`).addEventListener("click",(t=>(e=>{const t=document.querySelector(`#p-input-${e}`);t.disabled=!t.disabled,t.className=t.disabled?"center-list-item":"center-list-item center-list-item-enabled"})(e)))})(e),(e=>{document.querySelector(`#p-check-${e}`).addEventListener("click",(t=>{const o=document.querySelector("#ul-sidebar-projects"),a=`project-${e}`;let s=o.childNodes;Array.from(s).forEach((t=>{t.id==a&&(o.removeChild(t),console.log("found"),n.publish("removedProjectFromView",{id:e}))}))}))})(e)}}})()})(),(()=>{const e=document.querySelector("#display-todos"),t="material-icons",o=e=>{const t=e.details||"",o=`todo-item-text ${e.element}-details`,a=document.createElement("div"),s=document.createElement(e.element);return a.setAttribute("id",`details-${e.element}-${e.id}`),s.setAttribute("id",`${e.element}-${e.id}`),"textarea"===e.element&&s.setAttribute("maxlength",120),a.className="flex-content todo-details collapsible-hidden",s.className=o,s.textContent=t,a.append(s),n.subscribe("detailsUpdated",(e=>{s.textContent=e.details})),a},a=()=>{const e=e=>"flex-content todo-details collapsible-hidden"==e?"flex-content todo-details":"flex-content todo-details collapsible-hidden",o=o=>{const a=(o.target.className===t?o.target.parentElement.id:o.target.id).slice(12),s=document.querySelector(`#details-p-${a}`);s.className=e(s.className)},a=o=>{const a=(o.target.className===t?o.target.parentElement.id:o.target.id).slice(7),s=`#create-${a}`,d="#details-textarea-"+a,r=`#textarea-${a}`,c=`#dateInput-${a}`,i=document.querySelector(s),l=document.querySelector(d),u=document.querySelector(r),m=document.querySelector(c);u.addEventListener("keydown",(e=>{i.disabled=!e.target.value})),u.value&&"flex-content todo-details"===l.className&&n.publish("updateDetails",{id:a,details:u.value,date:m.value}),m.disabled=!m.disabled,l.className=e(l.className)};return{initEvents:e=>{const t=e||"";(e=>{document.querySelector(`#expand_more-${e}`).addEventListener("click",o)})(t),(e=>{document.querySelector(`#button-${e}`).addEventListener("click",(t=>(e=>{const t=`grid-${e}`,o=document.querySelector("#display-todos");let a=o.childNodes;Array.from(a).forEach((e=>{if(e.id==t){o.removeChild(e);const t=e.id.slice(5);n.publish("removedTaskFromView",{id:t})}}))})(e)))})(t),(e=>{document.querySelector(`#create-${e}`).addEventListener("click",a)})(t)}}};n.subscribe("addTasktoView",(s=>{(s=>{const n=document.createElement("div"),d=document.createElement("div");n.setAttribute("id",`grid-${s.id}`),d.setAttribute("id",s.id),n.className="grid grid-todos",d.className="flex-content todo-item",d.append(((e,o)=>{const a=e||"",s=document.createElement("div"),n=document.createElement("button"),d=document.createElement("i"),r=document.createElement("span");return s.className="flex-content",n.className="check-button-todo",d.className=t,r.className="todo-item-text",r.innerText=a,d.innerText="check_circle_outline",n.setAttribute("id",`button-${o}`),d.setAttribute("id",`check-mark-${o}`),n.append(d),s.append(n,r),s})(s.title,s.id),((e,t)=>{const o=document.createElement("div"),a=document.createElement("input"),s=`dateInput-${e}`;return a.className="solid-bottom-border new-task-todo-input",a.setAttribute("id",s),a.setAttribute("value",t),a.setAttribute("type","date"),a.disabled=!0,o.append(a),o})(s.id,s.date),(e=>{const o=document.createElement("div");return o.className="flex-content todo-item-options",["expand_more","create"].forEach((a=>{const s=document.createElement("button"),n=document.createElement("i");s.id=`${a}-${e}`,s.className=a+" icon-button todo-item-button todo-item-option",n.className=t,n.textContent=a,s.append(n),o.append(s)})),o})(s.id)),n.append(d,o({element:"p",id:s.id,details:s.details}),o({element:"textarea",id:s.id,details:s.details})),e.append(n),a().initEvents(s.id)})(s)})),n.subscribe("addMultipleTaskstoView",(e=>{const t=e.tasks||{};for(let e in t){const o=t[e].getTitle(),a=t[e].getID(),s=t[e].getDate(),d=t[e].getDetails();n.publish("addTasktoView",{title:o,id:a,date:s,details:d})}}))})(),(()=>{const e=(e,t)=>{document.querySelector(t).disabled=e},t=t=>{document.querySelector(t.input).addEventListener("keydown",(o=>{(t=>{let o=(e=>!!document.querySelector(e).value)(t.input);e(!o,t.button)})(t)}))};t({input:"#new-task-input",button:"#new-task-todo-button"}),document.querySelector("#new-task-todo-button").addEventListener("click",(e=>{document.querySelector(".modal").style.display="block"})),(()=>{const o=()=>document.querySelector("#modal-text-input").value,a=()=>{document.querySelector(".modal").style.display="none",document.querySelector("#modal-text-input").value="",document.querySelector("#new-task-input").value="",document.querySelector("#new-task-date").value="",document.querySelector("#character-count").textContent="120",e(!0,"#new-task-todo-button")};t({input:"#modal-text-input",button:"#confirm-modal"}),document.querySelector("#modal-text-input").addEventListener("keydown",(e=>{(()=>{const e=document.querySelector("#character-count"),t=120-o().length;e.textContent=t,e.style.color=t<=0?"var(--menuGold)":"var(--ultrav)"})()})),document.querySelector("#confirm-modal").addEventListener("click",(e=>(()=>{const e=document.querySelector("#new-task-input").value,t=o(),s=document.querySelector("#new-task-date").value;a(),n.publish("createTask",{title:e,details:t,date:s})})())),document.querySelector("#close-modal").addEventListener("click",(e=>{a()}))})()})(),n.subscribe("projectSelected",(e=>{const t=e.project;(()=>{const e=document.querySelector("#display-todos");for(;e.firstChild;)e.removeChild(e.firstChild)})();for(let e in t){const o=t[e].getTitle(),a=t[e].getDetails(),s=t[e].getID();n.publish("addTasktoView",{title:o,details:a,id:s})}})),l&&n.publish("addMultipleTaskstoView",{tasks:u.getTasks()}),n.subscribe("saveProject",(e=>{(e=>{const t=r(e),o=c(e),a=JSON.stringify({projectInfo:o,tasks:t});localStorage.setItem("project",a)})(u),(e=>{let t=e.getProjects(),o={};console.log(t),t.forEach((e=>{const t=e.getID();o[t]={}})),t.forEach((e=>{const t=r(e),a=c(e),s=e.getID();o[s]=JSON.stringify({projectInfo:a,tasks:t})})),console.log(o)})(a)})),n.subscribe("createNewProject",(t=>{const o=t.name||"default",s=(0,e.Project)({name:o,id:1});a.addProject(s),n.publish("addProjectToView",{name:o,id:1})})),n.subscribe("updateProjectName",(e=>{})),n.publish("addProjectToView",b),n.subscribe("createTask",(e=>{const o=t(e);n.publish("addTask",{task:o})})),n.subscribe("updateDetails",(e=>{const t=u.getTasks(),o=e.details,a=e.date,s=t[e.id];s.setDetails(o),s.setDate(a),n.publish("detailsUpdated",{details:o,date:a})})),n.subscribe("addTask",(e=>{const t=e.task;u.addTask(t);const o=t.getTitle(),a=t.getDetails(),s=t.getID(),d=t.getDate();n.publish("saveProject",{}),n.publish("addTasktoView",{title:o,details:a,id:s,date:d})})),n.subscribe("removedTaskFromView",(e=>{const t=e.id||"";u.removeTask(t),n.publish("saveProject",{})}))})()})();