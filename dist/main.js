(()=>{"use strict";var t={834:(e,t,o)=>{o.r(t),o.d(t,{Project:()=>n});const n=e=>{let t=e.name||"",o=e.id||"",n={};const c=e=>!n.hasOwnProperty(e),l=()=>{let e=Math.floor(255*Math.random())+1;for(;!c(e);)e=Math.floor(255*Math.random())+1;return e};return{setName:e=>{t=e},setID:e=>{o=e},getName:()=>t,getID:()=>o,addTask:e=>{e.setID=l(),(e=>{n[e.id]=e.task})(e)},removeTask:e=>{(e=>{c(e)&&delete n[e]})(e)},createID:l,getTasks:()=>n}}}},o={};function n(e){if(o[e])return o[e].exports;var c=o[e]={exports:{}};return t[e](c,c.exports,n),c.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t=n(834);const o=e=>{let t=[];return{addHandler:e=>{t.push(e)},removeHandler:e=>{const o=t.indexOf(e);t.splice(o,1)},fire:e=>{t.forEach((t=>{t(e)}))},myName:e||""}},c=(()=>{let e=[];const t=t=>e.filter((e=>e.myName==t))[0];return{publish:(n,c)=>{let l=t(n);l||(l=o(n),console.log(n),e.push(l)),l.fire(c)},subscribe:(n,c)=>{let l=t(n);l||(l=o(n),e.push(l)),l.addHandler(c)}}})(),{Project:l}=n(834);let d=(0,t.Project)("main",0);const s=d.createID(),r=(0,t.Project)({name:"chris",id:s}),a={id:r.getID(),name:r.getName()};(()=>{const e=e=>{const t=document.querySelector("#ul-sidebar-projects"),o=document.createElement("li");o.className="sidebar-project-list_item  solid-top-border",o.id=e.id;const n=document.createElement("p");n.className="center-list-item",n.innerText=e.name,o.append(n),t.append(o)};c.subscribe("projectAdded",(t=>{e(t.project)}));const t=()=>{document.querySelectorAll(".sidebar-project-list_item").forEach((e=>{e.addEventListener("click",(e=>{c.publish("projectSelected",{project:p.getTasks()})}))}))};c.subscribe("projectAdded",(e=>{t()}))})(),(()=>{const t=document.querySelector("#display-todos"),o="material-icons",n={collaspsibleOnClick:()=>{document.querySelectorAll(".flex-content todo-details collapsible-hidden").forEach((t=>{console.log(e),t.addEventListener("click",(e=>{e.sytle.display}))}))}};c.subscribe("addTasktoView",(e=>{(e=>{const c=document.createElement("div"),l=document.createElement("div");l.setAttribute("id",e.id),c.className="grid grid-todos",l.className="flex-content todo-item",l.append((e=>{const t=e||"",n=document.createElement("div"),c=document.createElement("button"),l=document.createElement("i"),d=document.createElement("span");return n.className="flex-content",c.className="icon-button todo-item-button ",l.className=o,d.className="todo-item-text",d.innerText=t,l.innerText="check_circle_outline",c.append(l),n.append(c,d),n})(e.title),(()=>{const e=document.createElement("div");return e.className="flex-content todo-item-options",["expand_more","create","delete"].forEach((t=>{const n=document.createElement("button"),c=document.createElement("i");n.id=t,n.className="icon-button todo-item-button todo-item-option",c.className=o,c.textContent=t,n.append(c),e.append(n)})),e})(),(e=>{const t=e||"",o=document.createElement("div"),n=document.createElement("p");return o.className="flex-content todo-details collapsible-hidden",n.className="todo-item-text p-details",n.innerText=t,o.append(n),o})(e.details)),c.append(l),t.append(c),n.collaspsibleOnClick()})(e)}))})(),(()=>{const e=e=>{console.log(e),document.querySelector(e.input).addEventListener("keydown",(t=>{(e=>{((e,t)=>{console.log(e,t),document.querySelector(t).disabled=e})(!(e=>!!document.querySelector(e).value)(e.input),e.button)})(e)}))};e({input:"#new-task-todo-input",button:"#new-task-todo-button"}),document.querySelector("#new-task-todo-button").addEventListener("click",(e=>{document.querySelector(".modal").style.display="block"})),(()=>{const t=()=>{document.querySelector(".modal").style.display="none",document.querySelector("#modal-text-input").value=""};e({input:"#modal-text-input",button:"#confirm-modal"}),document.querySelector("#confirm-modal").addEventListener("click",(e=>(()=>{const e=document.querySelector("#new-task-todo-input").value,o=document.querySelector("#modal-text-input").value;t(),c.publish("createTask",{title:e,details:o})})())),document.querySelector("#close-modal").addEventListener("click",(e=>{t()}))})()})(),c.subscribe("projectSelected",(e=>{const t=e.project;(()=>{const e=document.querySelector("#display-todos");for(;e.firstChild;)e.removeChild(e.firstChild)})();for(let e in t){const o=t[e].getTitle(),n=t[e].getDetails(),l=t[e].getID();c.publish("addTasktoView",{title:o,details:n,id:l})}})),c.publish("projectAdded",{project:a}),c.subscribe("createTask",(e=>{const t=(e=>{let t=e.title||"",o=e.details||"",n=e.id||0;return{setTitle:e=>{t=e},setDetails:e=>{o=e},setID:e=>{n=e},getTitle:()=>t,getDetails:()=>o,getID:()=>n}})(e);c.publish("addTask",{task:t})})),c.subscribe("addTask",(e=>{const t=e.task;d.addTask(t);const o=t.getTitle(),n=t.getDetails(),l=t.getID();c.publish("addTasktoView",{title:o,details:n,id:l})}))})()})();