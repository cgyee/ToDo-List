(()=>{"use strict";var e={834:(e,t,o)=>{o.r(t),o.d(t,{Project:()=>n});const n=e=>{let t=e.name||"",o=e.id||"",n={};const c=e=>!n.hasOwnProperty(e),a=()=>{let e=Math.floor(Math.random()*Math.floor(255));for(;!c(e);)e=Math.floor(Math.random()*Math.floor(255));return e};return{setName:e=>{t=e},setID:e=>{o=e},getName:()=>t,getID:()=>o,addTask:e=>{const t=a();e.setID(t),(e=>{n[e.id]=e.task})(e)},removeTask:e=>{(e=>{c(e)&&delete n[e]})(e)},createID:a,getTasks:()=>n}}}},t={};function o(n){if(t[n])return t[n].exports;var c=t[n]={exports:{}};return e[n](c,c.exports,o),c.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=o(834);const t=e=>{let t=[];return{addHandler:e=>{t.push(e)},removeHandler:e=>{const o=t.indexOf(e);t.splice(o,1)},fire:e=>{t.forEach((t=>{t(e)}))},myName:e||""}},n=(()=>{let e=[];const o=t=>e.filter((e=>e.myName==t))[0];return{publish:(n,c)=>{let a=o(n);a||(a=t(n),console.log(n),e.push(a)),a.fire(c)},subscribe:(n,c)=>{let a=o(n);a||(a=t(n),e.push(a)),a.addHandler(c)}}})(),{Project:c}=o(834);let a=(0,e.Project)("main",0);const d=a.createID(),l=(0,e.Project)({name:"chris",id:d}),r={id:l.getID(),name:l.getName()};(()=>{const e=e=>{const t=document.querySelector("#ul-sidebar-projects"),o=document.createElement("li");o.className="sidebar-project-list_item  solid-top-border",o.id=e.id;const n=document.createElement("p");n.className="center-list-item",n.innerText=e.name,o.append(n),t.append(o)};n.subscribe("projectAdded",(t=>{e(t.project)}));const t=()=>{document.querySelectorAll(".sidebar-project-list_item").forEach((e=>{e.addEventListener("click",(e=>{n.publish("projectSelected",{project:p.getTasks()})}))}))};n.subscribe("projectAdded",(e=>{t()}))})(),(()=>{const e=document.querySelector("#display-todos"),t="material-icons",o=e=>{const t=e.details||"",o=document.createElement("div"),n=document.createElement(e.element);return o.setAttribute("id",`details-${e.element}-${e.id}`),n.setAttribute("id",`${e.element}-${e.id}`),o.className="flex-content todo-details collapsible-hidden",n.className="todo-item-text p-details",n.innerText=t,o.append(n),o},c=()=>{const e=e=>"flex-content todo-details collapsible-hidden"==e?"flex-content todo-details":"flex-content todo-details collapsible-hidden",o=o=>{expand_more;const n=(o.target.className===t?o.target.parentElement.id:o.target.id).slice(12),c=document.querySelector(`#details-p-${n}`);c.className=e(c.className)},n=o=>{const n=o.target.className===t?o.target.parentElement.id:o.target.id;console.log(n);const c=n.slice(7);console.log(c,"#details-textarea-"+c);const a=document.querySelector("#details-textarea-"+c);console.log(a.className),a.className=e(a.className)},c=e=>{const t="material-icons"===e.target.className?e.target.id.slice("check_mark-".length+1):e.target.id.slice("button-".length+1),o=document.querySelector(`#grid-${t}`);let n=o.firstChild;for(;n.id!=t;)n=n.nextSibling;o.removeChild(n)};return{initEvents:()=>{[".expand_more"].forEach((e=>{document.querySelectorAll(e).forEach((e=>{e.addEventListener("click",o)}))})),[".check-button-todo"].forEach((e=>{document.querySelectorAll(e).forEach((e=>{e.addEventListener("click",c)}))})),[".create"].forEach((e=>{const t=document.querySelectorAll(e);console.log(t),t.forEach((e=>{e.addEventListener("click",n)}))}))}}};n.subscribe("addTasktoView",(n=>{(n=>{const a=document.createElement("div"),d=document.createElement("div");a.setAttribute("id",`grid-${n.id}`),d.setAttribute("id",n.id),a.className="grid grid-todos",d.className="flex-content todo-item",d.append(((e,o)=>{const n=e||"",c=document.createElement("div"),a=document.createElement("button"),d=document.createElement("i"),l=document.createElement("span");return c.className="flex-content",a.className="check-button-todo",d.className=t,l.className="todo-item-text",l.innerText=n,d.innerText="check_circle_outline",a.setAttribute("id",`button-${o}`),d.setAttribute("id",`check-mark-${o}`),a.append(d),c.append(a,l),c})(n.title,n.id),(e=>{const o=document.createElement("div");return o.className="flex-content todo-item-options",["expand_more","create","delete"].forEach((n=>{const c=document.createElement("button"),a=document.createElement("i");c.id=`${n}-${e}`,c.className=n+" icon-button todo-item-button todo-item-option",a.className=t,a.textContent=n,c.append(a),o.append(c)})),o})(n.id)),a.append(d,o({element:"p",id:n.id,details:n.details}),o({element:"textarea",id:n.id,details:n.details})),e.append(a),c().initEvents()})(n)}))})(),(()=>{const e=e=>{document.querySelector(e.input).addEventListener("keydown",(t=>{(e=>{((e,t)=>{document.querySelector(t).disabled=e})(!(e=>!!document.querySelector(e).value)(e.input),e.button)})(e)}))};e({input:"#new-task-todo-input",button:"#new-task-todo-button"}),document.querySelector("#new-task-todo-button").addEventListener("click",(e=>{document.querySelector(".modal").style.display="block"})),(()=>{const t=()=>{document.querySelector(".modal").style.display="none",document.querySelector("#modal-text-input").value=""};e({input:"#modal-text-input",button:"#confirm-modal"}),document.querySelector("#confirm-modal").addEventListener("click",(e=>(()=>{const e=document.querySelector("#new-task-todo-input").value,o=document.querySelector("#modal-text-input").value;t(),n.publish("createTask",{title:e,details:o})})())),document.querySelector("#close-modal").addEventListener("click",(e=>{t()}))})()})(),n.subscribe("projectSelected",(e=>{const t=e.project;(()=>{const e=document.querySelector("#display-todos");for(;e.firstChild;)e.removeChild(e.firstChild)})();for(let e in t){const o=t[e].getTitle(),c=t[e].getDetails(),a=t[e].getID();n.publish("addTasktoView",{title:o,details:c,id:a})}})),n.publish("projectAdded",{project:r}),n.subscribe("createTask",(e=>{const t=(e=>{let t=e.title||"",o=e.details||"",n=e.id||0;return{setTitle:e=>{t=e},setDetails:e=>{o=e},setID:e=>{n=e},getTitle:()=>t,getDetails:()=>o,getID:()=>n}})(e);n.publish("addTask",{task:t})})),n.subscribe("addTask",(e=>{const t=e.task;a.addTask(t);const o=t.getTitle(),c=t.getDetails(),d=t.getID();n.publish("addTasktoView",{title:o,details:c,id:d})}))})()})();