(()=>{"use strict";var e={834:(e,t,o)=>{o.r(t),o.d(t,{Project:()=>r});const r=(e,t)=>{let o=e||"",r=t||"",s={};const l=e=>!s.hasOwnProperty(e);return{setName:e=>{o=e},setID:e=>{r=e},getName:()=>o,getID:()=>r,addTask:(e,t)=>{((e,t)=>{s[e]=t})(e,t)},removeTask:e=>{(e=>{l(e)&&delete s[e]})(e)},createID:()=>{let e=Math.floor(255*Math.random())+1;for(;!l(e);)e=Math.floor(255*Math.random())+1;return e},getTasks:()=>s}}}},t={};function o(r){if(t[r])return t[r].exports;var s=t[r]={exports:{}};return e[r](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=o(834);const t=e=>{let t=[];return{addHandler:e=>{t.push(e)},removeHandler:e=>{const o=t.indexOf(e);t.splice(o,1)},fire:e=>{t.forEach((t=>{console.log("fire"),t(e)}))},myName:e||""}},r=(()=>{let e=[];const o=t=>{const o=e.filter((e=>e.myName==t))[0];return console.log(o),o};return{publish:(r,s)=>{console.log("pub ",r);let l=o(r);l||(l=t(r),console.log(r),e.push(l)),l.fire(s)},subscribe:(r,s)=>{console.log("sub ",r),console.log("handler ",s);let l=o(r);l||(l=t(r),e.push(l)),l.addHandler(s)}}})(),{Project:s}=o(834);let l=(e=>{var t;try{t=window[undefined];var o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}})()?localStorage.getItem("myProjects"):(0,e.Project)("main",0);const c=l.createID(),n=(0,e.Project)("chris",c),a={id:n.getID(),name:n.getName()};l.addTask(c,n),console.log(l.getName()),(()=>{const e=e=>{console.log("render");const t=document.querySelector("#ul-sidebar-projects"),o=document.createElement("li");o.className="sidebar-project-list_item  solid-top-border",o.id=e.id;const r=document.createElement("p");r.className="center-list-item",r.innerText=e.name,o.append(r),t.append(o)};r.subscribe("projectAdded",(t=>{console.log("sub1"),console.log(t),e(t.project)}));const t=()=>{document.querySelectorAll(".sidebar-project-list_item").forEach((e=>{e.addEventListener("click",(e=>{console.log(e),r.publish("projectSelected",{project:p.getTasks()})}))}))};r.subscribe("projectAdded",(e=>{console.log("sub2"),t()}))})(),(()=>{const e=document.querySelector("#display-todos");r.subscribe("projectSelected",(e=>{const o=e.project;t();for(let e in o){const t=o[e].getTitle(),s=o[e].getDetails(),l=o[e].getID();r.publish("addTasktoView",{title:t,details:s,id:l})}})),r.subscribe("addTask",(e=>{const t=e.getTitle(),o=e.getDetails(),s=e.getID();r.publish("addTasktoView",{title:t,details:o,id:s})}));const t=()=>{for(;e.firstChild;)e.removeChild(e.firstChild)}})(),r.publish("projectAdded",{project:a})})()})();